<ui:composition template="/WEB-INF/administrative_template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">Multicinema-Administrador</ui:define>
    
      <ui:define name="options">
        
        <div class="list-group list-group-flush" >
             <a href="index.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-chart-pie mr-5">DashBoard</i>
            </a>
            <a href="Peliculas/index.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-video mr-3">Peliculas</i>
            </a>
            <a href="usuarios.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-users mr-4"> Usuarios</i>
            </a>
            <a href="idiomas.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-language mr-5">Idiomas</i>
            </a>
            <a href="generos.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-tag mr-3">Generos</i>
            </a>
            <a href="clasificacion.xhtml" class="list-group-item active waves-effect">
                <i class="fas fa-film mr-3">Clasificación</i>
            </a>
             <a href="actores.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-user-tie mr-3">Actores</i>
            </a>
            <a href="directores.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-user-tie mr-3">Directores</i>
            </a>
            <a href="cambiar.xhtml" class="list-group-item list-group-item-action waves-effect">
                <i class="fas fa-lock mr-3">Cambiar Contraseña</i>
            </a>
            <h:form>
             <p:commandButton value="Cerrar Sesión" icon="fas fa-sign-out-alt" class="btn btn-white border-0 pl-5 pr-2 shadow-none list-group-item red-text list-group-item-action waves-effect" action="#{sesion.cerrarSesion}" />
            </h:form>
        </div>
        
    </ui:define>
    
    
    <ui:define name="content">
        <!-- Inicio de la Programación toxica-->
        <a href="usuarios.xhtml" class="btn btn-success">Volver</a>
        <br/>
        <div class="d-flex justify-content-center">
            
            <div class="shadow-none w-50 p-6 ">        
                <h:form>
                    <h3 class="grey-text text-center">Agregar Usuario</h3>
                    <div class="md-form">
                        <div class="form-group mx-sm-2 mb-2">
                        <p:inputText id="form2" class="form-control" value="#{usuariosController.usuario.nombre}" required="true" placeholder="Nombre" 
                                     requiredMessage="Debe ingresar un nombre"
                                     validatorMessage="Nombre Invalido">
                                     <f:validateRegex pattern="^[A-Za-z]{4,}\s{0,1}$"/>
                        </p:inputText> 
                         <p:inputText  class="form-control" value="#{usuariosController.usuario.telefono}" required="true" placeholder="XXXX-XXXX" 
                                     requiredMessage="Debe ingresar un numero"
                                     validatorMessage="Numero ingresado no valido">
                                     <f:validateRegex pattern="^[9|6|7][0-9]{7}$"/>
                      </p:inputText>
                        <p:inputText class="form-control" value="#{usuariosController.usuario.direccion}" required="true" placeholder="Soyapango, San Salvador" 
                                     requiredMessage="Debe ingresar una direccion"
                                     validatorMessage="Direccion ingresada no valido">
                                     <f:validateRegex pattern="^[A-Za-z]{5,}$"/>
                      </p:inputText>
                      <p:inputText  class="form-control" value="#{usuariosController.usuario.dui}" required="true" placeholder="XXXXXXXX-X" 
                                     requiredMessage="Debe ingresar un numero DUI"
                                     validatorMessage="DUI ingresado no valido">
                                     <f:validateRegex pattern="^[0-9]{8}-[0-9]$"/>
                    </p:inputText>
                        <p:inputText  class="form-control" value="#{usuariosController.usuario.correo}" required="true" placeholder="alguien@example.com" 
                                     requiredMessage="Debe ingresar un email"
                                     validatorMessage="Email Invalido">
                                     <f:validateRegex pattern=""/>
                        </p:inputText>
                    <p:password id="txtnewpass" class="form-control" value="#{usuariosController.usuario.password}" required="true" placeholder="********"
                                        requiredMessage="Debe ingresar una contraseña"
                                        validatorMessage="Longitud minima: 8 Caracteres">
                                        <f:validateRegex pattern="^[A-za-z]{8}$"/>   
                    </p:password>
                        <h:selectOneMenu id="tipo" value="#{usuariosController.tipo.id}" style="width:125px">
                            <f:selectItems value="#{usuariosController.obtenerTipos()}"
                                              var="t" itemLabel="#{t.tipo}" itemValue="#{t.id}"/>
                       </h:selectOneMenu>                        
                        </div>
                    </div>	
                    <p:messages closable="true" />
                    <h:commandButton value="Aceptar" action="#{usuariosController.insertarUsuario()}" class="btn btn-success"  />
                </h:form>
                </div>
        </div>
            
        <!-- Fin Programación toxica-->
    </ui:define>
</ui:composition>